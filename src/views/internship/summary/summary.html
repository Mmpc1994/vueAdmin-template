<div>
  <el-card class="table-searchBar">
    <FormBuilder :schema="schema" :model="model">
      <el-form-item slot="suffix">
        <el-button type="primary" @click="get_internship_summary">查询</el-button>
      </el-form-item>
    </FormBuilder>
  </el-card>

  <el-card style="margin-top: 15px;">
    <el-table :data="internshipSummaryList">
      <el-table-column 
        :key="index"
        :label="title.label"
        :prop="title.prop"
        v-for="(title, index) in internshipService.summaryTitles">
      </el-table-column>

      <el-table-column label="操作">
        <template slot-scope="scope">
          <el-button  :disabled="scope.row.comment_status !== '未批阅'" type="primary" @click="before_approve(scope.row)">批阅</el-button>
        </template>
      </el-table-column>
    </el-table>
  </el-card>

  <el-dialog
    title="请选择审核状态"
    :visible.sync="dialogVisible"
    width="30%"
    >
    <el-form :model="internshipSummary">
      <el-form-item prop="comment_content">
        <el-input placeholder="请输入批语" v-model="internshipSummary.comment_content"></el-input>
      </el-form-item>
    </el-form>
    <span slot="footer" >
      <el-button @click="dialogVisible = false">取 消</el-button>
      <el-button type="primary" @click="approve()">确 定</el-button>
    </span>
  </el-dialog>
</div>